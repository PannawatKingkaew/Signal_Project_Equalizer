# Signal_Project_Equalizer

- ในปัจจุบันอีควอไลเซอร์ (Equalizer) ที่เป็นอุปกรณ์ในระบบเสียงหรือที่เป็นซอฟต์แวร์นั้น ส่วนใหญ่มีหน้าที่ในการควบคุมและชดเชยย่านความถี่ของเสียง (Frequency) ให้อยู่ในระดับสัญญาณที่เหมาะสม เพื่อให้ตรงตามความเหมาะสมในการใช้งานเพียงเท่านั้น
ดังนั้นจึงทำการศึกษาและพัฒนาเครื่องมือให้อยู่ในรูปแบบของซอฟต์แวร์ที่สามารถควบคุมความถี่ของเสียง พร้อมทั้งแสดงกราฟคลื่นความถี่ของสัญญาณเสียง ทั้งเสียงต้นฉบับ (Input) และเสียงที่ถูกควบคุมความถี่ (Output) ด้วย เพื่อใช้ในการเปรียบเทียบคลื่นเสียงหรือให้เห็นถึงการเปลี่ยนแปลงของคลื่นเสียงได้อย่างชัดเจน

วัตถุประสงค์
1. สามารถควบคุมความถี่ในย่านความถี่ต่างๆ ได้อย่างเหมาะสม
2. สามารถแสดงกราฟคลื่นความถี่ของสัญญาณเสียงได้ทั้ง Input และ Output

# องค์ประกอบพื้นฐานของอีควอไลเซอร์ (Equalizer)
- Frequency คือ ค่าความถี่ของสัญญาณเสียงในการปรับแต่ง โดยความถี่ดังกล่าวเกิดจากการสั่นสะเทือนจนกลายเป็นเสียงขึ้นมา ซึ่งมีหน่วยวัดเป็นเฮิร์ตซ์ (HZ) ในการปรับความถี่จะเลือกปรับเป็นย่านความถี่ตามการใช้งาน เช่น ย่านความถี่เสียงกลาง (Midrange) เป็นย่านสำหรับเสียงพูด หรือ ย่านความถี่เสียงต่ำ (Low) เป็นย่านความถี่ต่ำสุด เป็นความถี่ระดับพื้นฐาน (Fundamental) ที่ใช้สำหรับควบคุมความแน่นของเสียงของเครื่องดนตรี เช่น กีตาร์ เบส หรือ Kick-drum ของกลองชุด เป็นต้น
รายละเอียดในแต่ละย่านความถี่ต่างๆ

<br>Deep Low/Deep Bass</br>
- 20 Hz – 60 Hz: เป็นย่านเสียงที่มีความถี่ต่ำมากๆ ซึ่งโดยปกติย่านเสียงนี้จะถูกขับออกมาจาก Subwoofer เป็นส่วนใหญ่ เพลงที่มีความถี่ย่านนี้อยู่ค่อนข้างเยอะ จะเป็นเพลงแนว EDM, Hip Hop ซึ่งเป็นแนวเพลงที่ทำให้เรารับรู้ถึงการสั่นสะเทือนของเสียง

<br>Low</br>
- 60 Hz to 200 Hz: เป็นย่านความถี่มาตรฐาน หรือเป็นเส้นแบ่งระหว่างย่านเสียงต่ำและย่านเสียงกลาง สำหรับเสียงในย่านนี้มักมาจากเครื่องดนตรี เช่น Bass หรือ Bass Drum ของกลองนั่นเองครับ

<br>Mid-Low</br>
- อยู่ในช่วง 200 Hz – 600 Hz เป็นย่านความถี่เสียง Harmonics แรกของเครื่องดนตรีส่วนใหญ่ การเพิ่มระดับเสียงในย่านความถี่นี้จะช่วยให้เครื่องดนตรีที่ผลิตเสียงความถี่ต่ำมีโทนเสียงที่ชัดเจนขึ้น สำหรับเครื่องดนตรีประเภทให้เสียงย่านความถี่กลาง เช่น กีตาร์, เสียงร้อง และ คีย์บอร์ด ก็นิยมที่จะลดย่านความถี่ในช่วงนี้ลง เพื่อจะทำให้งานมิกซ์โดยรวมดีขึ้น

<br>Mid-High<br>
- 600 Hz – 3,000 Hz: นี่คือช่วงที่เราคุ้นเคยกับการได้ยิน และเสียงที่เปล่งออกมาเวลาพูดก็อยู่ในช่วงนี้ด้วย เครื่องดนตรีส่วนใหญ่ เช่น กีตาร์และเปียโน ก็เล่นในช่วงนี้ 

<br>Presence</br>
- 3,000 Hz – 8,000 Hz: ควบคุมความใกล้-ไกล และความชัดเจน ของเครื่องดนตรี และเสียงร้อง การปรับเพิ่มระดับเสียงในย่านนี้มากเกินไปจะทำให้ได้เสียงนั้นหยาบกระด้าง

<br>High</br>
- 8,000 Hz – 20,000 Hz: ย่านนี้จะสัมพันธ์สอดคล้องกับความใสหรือชัดเจน, เสียงฉ่า (Sizzle) และ “Air” ของงาน Mix 
ย่านเสียงนี้ถือเป็นย่านเสียงที่สามารถสร้างความโดดเด่นให้กับงาน Mix โดยเฉพาะ อีกทั้งยังสามารถเพิ่มความชัดเจนของเสียงได้อย่างดี แต่ข้อควรระวังสำหรับย่านเสียง High นั้นก็คือในบางครั้งย่านนี้มักจะทำให้เกิดเสียงซับหรือเสียงตัว S ต่างๆ

Gain คือ ค่าในการปรับระดับความดัง-เบาของเสียง ผ่านการทำ Boost (เพิ่ม) และ Cut (ลด) ปริมาณเสียงในย่านความถี่ที่ต้องการ

Q คือ ค่าที่ใช้สำหรับกำหนดความกว้างและความแคบของช่วงความถี่เสียง เป็นการปรับเพื่อสร้างสมดุลของความถี่เสียง เช่น กำหนดค่า Q ให้แคบเพื่อตัดเสียงในย่านเสียงที่ไม่ต้องการออก เป็นต้น

# Equalizer สำคัญอย่างไรต่อระบบเสียง
- Equalizer ถือเป็นหัวใจสำคัญต่อระบบเสียง เนื่องจากระบบเสียงเป็นศาสตร์ที่ละเอียดอ่อน และมีองค์ประกอบมากมายทั้งย่านความถี่เสียง ระดับความดังเบา ซึ่งสิ่งเหล่านี้ล้วนแล้วแต่ส่งผลต่อประสิทธิภาพการทำงานทั้งสิ้น หากขาดอุปกรณ์ที่เข้ามาควบคุมระบบเสียง อาจจะเกิดปัญหาตามมาได้ดังนี้

# ปัญหาที่อาจเกิดหากขาด Equalizer
- เกิดการตอบสนองของความถี่ (Frequency Response) ที่ไม่ได้ถูกควบคุมจาก EQ ที่มากเกินไป จนทำให้เกิดอาการหอน (Feedback) ของลำโพง
ขาดความสมดุลในการตอบสนองความถี่เสียงที่ใช้ในแต่ละกิจกรรม ซึ่งมีผลโดยตรงต่อระดับความดังของความถี่เสียงในแต่ละย่านความถี่

# หลักการทำงาน
![image](https://user-images.githubusercontent.com/69310175/203768237-44f0435b-2d93-4028-956c-4287aad0ae9b.png)
 
- FIR filters จะถูกนำมาใช้ในการสร้าง multi-band filtering algorithm โดยตัว FIR จะได้รับได้รับค่าสัมประสิทธิ์จาก Butterworth transfer function เพื่อปรับสัญญาณทดสอบให้เท่ากัน
สัญญาณที่กรองแล้วจะถูกคูณด้วยค่าที่ได้รับจาก slidebar ที่กำหนดโดยผู้ใช้ซึ่งจะแสดงถึงอัตราขยายของตัวกรอง จากนั้นสัญญาณทั้งหมดจะถูกนำมารวมกัน
สัญญาณที่ผ่านการหรืออีควอไลซ์แล้ว สามารถเล่นได้โดยใช้ Fast Fourier Transform (FFT) เพื่อวิเคราะห์องค์ประกอบความถี่ต่างๆ ของสัญญาณ

- การออกแบบอีควอไลเซอร์ 6 แบนด์นี้ใช้ตัวกรอง 'ความถี่ต่ำ', 'ความถี่สูง' และ 'แบนด์พาส' สามประเภทเพื่อปรับสัญญาณอินพุตให้เท่ากัน ความถี่คัตออฟที่ใช้ระหว่างการใช้งานแสดงในตาราง

![image](https://user-images.githubusercontent.com/69310175/203768518-535fdb52-cb1d-4aaf-8202-a9d0fa9442fd.png)

# หน้าตา GUI
![image](https://user-images.githubusercontent.com/69310175/203768689-a95a00fb-5a20-4bc1-8f02-05aaad923860.png)
